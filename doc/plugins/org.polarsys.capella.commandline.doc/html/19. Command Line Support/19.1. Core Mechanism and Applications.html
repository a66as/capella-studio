<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	</head>
	<body>
		<h1 id="Command_Line_Support">Command Line Support</h1>
		<h2 id="Overview">Overview</h2>
		<p>Capella provides the capacity to launch actions from command line. Potential actions are model validation, HTML production and XML export.</p>
		<p>The core mechanism provides the following parameters:</p>
		<p>Mandatory parameters:</p>
		<p>-appid: defines the id of the command line application to launch. Command line applications are plugins that extend the core mechanism (e.g. model validation).</p>
		<p>-filepath: defines the path to your aird file.</p>
		<p>-outputfolder: defines the path to the output folder.</p>
		<p>This behavior can be overridden by applications.</p>
		<p>
			<br/>
		</p>
		<p>Optional parameters:</p>
		<p>-data: defines the path to the workspace.</p>
		<p>-import: defines a list of projects to import into the workspace before doing the actual job. List of projects is a '|' separated list.</p>
		<p>-forceoutputfoldercreation: create the output folder. If the folder already exists, it is deleted and a new output folder is created.</p>
		<p>-logfile: defines the path to the log file (if not specified, log file is created in the workspace directory).</p>
		<p>-help: prints the help message</p>
		<p>
			<br/>
		</p>
		<table border="1">
			<tr>
				<td>
					<p>
						<img height="48" width="48" border="0" src="Images/19.1.%20Core%20Mechanism%20&amp;%20Applications_html_3c78e109.png"/>
					</p>
				</td>
				<td>
					<p><ul>
<li>Default behaviour of command line support checks that the workspace specified for validation result and HTML report generation is not in use by another instance of Eclipse.</li>
						<br/>
<li>Be careful to use a Capella version that is compatible with the Java Runtime Environment (i.e. run Capella 32 bits on a 32 bits JVM and Capella 64 bits on 64 bits JVM).</li>
						<br/>
<li>If the path to the aird file or the path to the workspace or the path to the log file contains white space, it should be in quotes (eg: 
						<b>-data &ldquo;D: \Application Data\workspace&rdquo;)</b></li>
						<br/>
<li>When Capella is run in command line, logs levels INFO, WARN, ERROR, FATAL are automatically activated for File and Console appender (regardless of the current log configuration stored in %USERPROFILE%\ReportConfiguration.xml)</li>
</ul>
					</p>
				</td>
			</tr>
		</table>
		<p>
			<br/>
		</p>
		<h2 id="Command_Line_Application_Examples">Command Line Application Examples</h2>
		<h3 id="Model_Validation">Model Validation</h3>
		<p><u>
			<b>Simple use case:</b></u>
		</p>
		<p>
			<i>&lt;</i>
			<i>CapellaInstallationPath&gt;/eclipse.exe -nosplash </i>
		</p>
		<p>
			<i>-application </i>
			<i>org.polarsys.capella.core.commandline.core</i>
		</p>
		<p>
			<i>-appid </i>
			<i>org.polarsys.capella.core.validation.commandline</i>
		</p>
		<p>
			<i>-data &lt;workspacePath&gt; </i>
		</p>
		<p>
			<i>-filepath /EOLE_AF/EOLE_AF.aird</i>
		</p>
		<p>
			<i>-outputfolder /Doc/validation</i>
		</p>
		<p>
			<i>-logfile D:\CommandLineLog\log.html</i>
		</p>
		<p>This command validates the model corresponding to the 
			<i>&lt;workspacePath&gt;</i>/EOLE_AF/EOLE_AF.aird file and generates a report to the output folder 
			<i>&lt;workspacePath&gt;</i>/Doc/validation. The two projects 
			<i>EOLE_AF</i> and 
			<i>Doc</i> are existing projects into the specified workspace. If the &ldquo;
			<i>validation</i>&rdquo; folder does not exist, the parameter 
			<i>forceoutputfoldercreation</i> has to be used. A log file is also specified.
		</p>
		<p>
			<br/>

			<br/>
		</p>
		<p><u>
			<b>Complex use case:</b></u>
		</p>
		<p>
			<i>&lt;CapellaInstallationPath&gt;/</i>
			<i>eclipse.exe -nosplash </i>
		</p>
		<p>
			<i>-application </i>
			<i>org.polarsys.capella.core.commandline.core</i>
		</p>
		<p>
			<i>-appid </i>
			<i>org.polarsys.capella.core.validation.commandline</i>
		</p>
		<p>
			<i>-filepath /EOLE_AF/EOLE_AF.aird </i>
		</p>
		<p>
			<i>-outputfolder /Doc/validation</i>
		</p>
		<p>
			<i>-validationruleset D:/EPF/exportall.epf</i>
		</p>
		<p>
			<i>-validationcontext &quot;EOLE_AF/EOLE_AF.melodymodeller#971d9934-9780-4e41-b02e-312d0eac3223 </i>
			<i>| </i>
		</p>
		<p>
			<i>EOLE_AF</i>
			<i> EOLE_AF/fragments/OA-Operational%20Context-Operational%20Entity.melodyfragment#c6aebe52-c8a4-4d35-8105-177c87470bef &quot; </i>
		</p>
		<p>
			<i>-data </i>
			<i>&lt;workspacePath&gt; </i>
		</p>
		<p>
			<i>-forceoutputfoldercreation </i>
		</p>
		<p>
			<i>-logfile D:\CommandLineLog\log.html</i>
		</p>
		<p>This new command uses a 
			<i>validationruleset</i> parameter to specify the path to an Eclipse Property File (epf file) and a 
			<i>validationcontext </i>parameter to specify the set of URIs of model elements to validate. The set of rule to validate against are stored into the exported epf file. A log file is also specified.
		</p>
		<p>
			<br/>

			<br/>
		</p>
		<h3 id="HTML_Production">HTML Production</h3>
		<p>
			<br/>

			<br/>
		</p>
		<table border="1">
			<tr>
				<td>
					<p>
						<img height="48" width="48" border="0" src="Images/19.1.%20Core%20Mechanism%20&amp;%20Applications_html_3c78e109.png"/>
					</p>
				</td>
				<td>
					<p><u>Prerequisites</u>: 				 XHTML Add-on has to be installed.</p>
				</td>
			</tr>
		</table>
		<p>
			<br/>

			<br/>
		</p>
		<p><u>
			<b>Simple use case:</b></u>
		</p>
		<p>
			<i>&lt;CapellaInstallationPath&gt;/eclipse.exe -nosplash </i>
		</p>
		<p>
			<i>-application org.polarsys.capella.core.commandline.core</i>
		</p>
		<p>
			<i>-appid org.polarsys.kitalpha.doc.gen.business.capella.commandline</i>
		</p>
		<p>
			<i>-data &lt;workspacePath&gt;</i>
		</p>
		<p>
			<i>-filepath /EOLE_AF/EOLE_AF.aird</i>
		</p>
		<p>
			<i>-forceoutputfoldercreation</i>
		</p>
		<p>
			<i>-outputfolder /Doc/HTML </i>
		</p>
		<p>This command will generate 
			<i>HTML</i> report from the EOLE-AF aird file specified to the output folder 
			<i>HTML</i> present into 
			<i>Doc</i> project.
		</p>
		<p>
			<br/>

			<br/>
		</p>
		<p><u>
			<b>Complex use case:</b></u>
		</p>
		<p>
			<i>&lt;CapellaInstallationPath&gt;/eclipse.exe -nosplash </i>
		</p>
		<p>
			<i>-application org.polarsys.capella.core.commandline.core</i>
		</p>
		<p>
			<i>-appid org.polarsys.kitalpha.doc.gen.business.capella.commandline</i>
		</p>
		<p>
			<i>-data &lt;targetWorkspacePath&gt;</i>
		</p>
		<p>
			<i>-import &lt;workspacePath&gt;/EOLE_AF | &lt;workspacePath&gt;/Doc </i>
		</p>
		<p>
			<i>-forceoutputfoldercreation -filepath /EOLE_AF/EOLE_AF.aird </i>
		</p>
		<p>
			<i>-outputfolder /Doc/HTML </i>
		</p>
		<p>
			<i>-logfile D:/CommandLineLog/log.html</i>
		</p>
		<p>This command will import two projects (EOLE_AF and Doc) from 
			<i>&lt;workspacePath&gt;</i> workspace into 
			<i>&lt;targetWorkspacePath&gt; </i>workspace before generating the HTML report.
		</p>
		<p>
			<b>NOTE</b>: the source and target workspaces have to be different
		</p>
		<p>
			<br/>

			<br/>
		</p>
		<h3 id="XML_Export">XML Export</h3>
		<p>
			<br/>

			<br/>
		</p>
		<table border="1">
			<tr>
				<td>
					<p>
						<img height="48" width="48" border="0" src="Images/19.1.%20Core%20Mechanism%20&amp;%20Applications_html_3c78e109.png"/>
					</p>
				</td>
				<td>
					<p><u>Prerequisites</u>: 				 XML Pivot Add-on has to be installed.</p>
				</td>
			</tr>
		</table>
		<p>
			<br/>

			<br/>
		</p>
		<p>Another Capella headless commandline application is the XML export. The following command runs an export in headless mode:</p>
		<p>
			<i>&lt;CapellaInstallationPath&gt;/eclipse.exe -consoleLog &ndash;nosplash -application org.polarsys.capella.core.commandline.core -appid xmlpivot.export -filepath &lt;Path&gt; </i>
		</p>
		<p>The filepath argument may either be a relative or an absolute path. If it is a relative path, it is interpreted relative to the workspace. To specify an explicit workspace, you can use the 
			<b>
				<i>&ndash;data</i>
			</b> parameter.
		</p>
		<p>
			<i>&lt;CapellaInstallationPath&gt;/eclipse.exe &ndash;data &lt;Path to Workspace&gt; -consoleLog &ndash;nosplash -application org.polarsys.capella.core.commandline.core -appid xmlpivot.export - filepath &lt;Path&gt;</i>
		</p>
		<p><u>
			<b>Examples:</b></u>
		</p>
		<p>
			<i>&lt;CapellaInstallationPath&gt;/eclipse.exe -consoleLog &ndash;nosplash -application org.polarsys.capella.core.commandline.core -appid xmlpivot.export - filepath C:/EOLE_AF/EOLE_AF.melodymodeller</i>
		</p>
		<p>
			<i>&lt;CapellaInstallationPath&gt;/eclipse.exe -consoleLog &ndash;nosplash -application org.polarsys.capella.core.commandline.core -appid xmlpivot.export - filepath EOLE_AF/EOLE_AF.melodymodeller</i>
		</p>
		<p>This command exports a capella model into an xml file stored at 
			<i>filepath</i> path.
		</p>
		<p>
			<br/>

			<br/>
		</p>
		<h3 id="Export_as_ZIP">Export as ZIP</h3>
		<p>
			<br/>
		</p>
		<p>This command will export selected project to the given zip filename</p>
		<p>Mandatory parameters:</p>
		<p>-export: defines the project name to export as zip</p>
		<p>-exportZipName: a relative path to the output zip (path must be a relative path into the given 
			<i>data </i>parameter)
		</p>
		<p>
			<br/>
		</p>
		<p>(usage of &ldquo;qualifier&rdquo; in the output file name will be replaced by current date/time)</p>
		<p><u>
			<b>Simple use case:</b></u>
		</p>
		<p>
			<i>&lt;CapellaInstallationPath&gt;/eclipse.exe -nosplash </i>
		</p>
		<p>
			<i>-application org.polarsys.capella.core.commandline.core</i>
		</p>
		<p>
			<i>-appid org.polarsys.capella.core.commandline.core.exportZip</i>
		</p>
		<p>
			<i>-data &lt;workspacePath&gt; </i>
		</p>
		<p>
			<i>-export &quot;EOLE_AF&quot;</i>
		</p>
		<p>
			<i>-exportZipName &quot;/EOLE_AF/EOLE_qualifier.zip&quot;</i>
		</p>
		<p>
			<i>-filepath &quot;/EOLE_AF/EOLE_AF.aird&quot; </i>
		</p>
		<p>
			<i>-forceoutputfoldercreation</i>
		</p>
		<p>
			<i>-outputfolder &quot;/EOLE_AF/output&quot;</i>
		</p>
		<p>
			<i>-logfile &quot;D:\ CommandLineLog \log.html&quot;</i>
		</p>
	</body>
</html>